{% extends 'website/base/base_page.html' %}
{% load static %}
{% block title %}{% if user.id == profile.id %}Мой профиль{% else %}Профиль пользователя {{ profile.username }}
{% endif %}{% endblock %}
{% block content %}
    <div class="card">
        <div class="card-body">
            <div class="e-profile">
                <div class="row">
                    <div class="col-12 col-sm-auto mb-3">
                        <div class="mx-auto" style="width: 140px;">
                            <img alt="" id="profile_avatar"
                                 class="profile_thumbnail"
                                 src="/media/{{ profile.custom_user.photo }}">
                        </div>
                    </div>
                    <div class="col d-flex flex-column flex-sm-row justify-content-between mb-3">
                        <div class="text-center text-sm-left mb-2 mb-sm-0">
                            <h4 class="pt-sm-2 pb-1 mb-0 text-nowrap">{{ profile.first_name }} {{ profile.last_name }}</h4>
                            <p class="mb-0">{{ profile.custom_user.user.username }} {{ profile_form.photo.path }}</p>
                        </div>
                        <div class="text-center text-sm-right">
                            <span class="badge badge-secondary">{{ role }}</span>
                            <div class="text-muted">
                                <small>Дата регистрации: {{ profile.date_joined }}</small>
                            </div>
                            {% if user.id == profile.id %}
                                <div class="col d-flex justify-content-end" style="margin: 10px">
                                    <a class="btn btn-primary" href="{% url 'website:update_profile' %}">Редактировать
                                        профиль</a>
                                </div>
                                <div class="col d-flex justify-content-end" style="margin: 10px">
                                    <a class="btn btn-primary" href="{% url 'logout' %}">Выйти</a>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="tab-content pt-3">
                    <div class="tab-pane active">
                        <div class="row">
                            <div class="col col-sm-auto mb-3">
                                <div class="mb-2" style="font-size: 20px"><b>О себе</b></div>
                                <div class="mb-2">{{ profile.custom_user.description }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}